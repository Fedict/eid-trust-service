<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.com/products/seam/taglib">
	<body>
		<ui:composition template="/WEB-INF/template.xhtml">
			<ui:param name="activeMenu" value="config" />
			<ui:define name="body">
				<h2>#{msgs.configuration}</h2>

				<h:form id="network_form">
					<h:panelGrid id="panel" columns="2" border="1">
						<f:facet name="header">
							<h:outputText value="#{msgs.networkConfig}" />
						</f:facet>

						<h:outputLabel for="host" value="#{msgs.proxyHost}" />
						<s:decorate>
							<h:inputText id="host" value="#{config.proxyHost}"
								required="true" />
							<h:message for="host" styleClass="error" />
						</s:decorate>

						<h:outputLabel for="port" value="#{msgs.proxyPort}" />
						<s:decorate>
							<h:inputText id="port" value="#{config.proxyPort}"
								required="true">
							</h:inputText>
							<h:message for="port" styleClass="error" />
						</s:decorate>

						<h:outputLabel for="enabled" value="#{msgs.enabled}" />
						<h:selectBooleanCheckbox value="#{config.enabled}" />

						<f:facet name="footer">
							<h:panelGroup style="display:block; text-align:center">
								<h:commandButton id="submit" value="#{msgs.save}"
									action="#{config.saveNetworkConfig}" />
							</h:panelGroup>
						</f:facet>
					</h:panelGrid>
				</h:form>

				<br />

				<h:form id="clockdrift_form">
					<h:panelGrid id="panel" columns="2" border="1">
						<f:facet name="header">
							<h:outputText value="#{msgs.clockDriftDetection}" />
						</f:facet>

						<h:outputLabel for="protocol" value="#{msgs.protocol}" />
						<s:decorate>
							<h:selectOneMenu id="protocol"
								value="#{config.clockDriftProtocol}" required="true">
								<f:selectItems value="#{clockDriftProtocols}" />
								<h:message for="protocol" styleClass="error" />
							</h:selectOneMenu>
						</s:decorate>

						<h:outputLabel for="server" value="#{msgs.server}" />
						<s:decorate>
							<h:inputText id="server" value="#{config.clockDriftServer}"
								required="true" />
							<h:message for="server" styleClass="error" />
						</s:decorate>

						<h:outputLabel for="timeout" value="#{msgs.timeout}" />
						<s:decorate>
							<h:inputText id="timeout" value="#{config.clockDriftTimeout}"
								required="true">
							</h:inputText>
							<h:message for="timeout" styleClass="error" />
						</s:decorate>

						<h:outputLabel for="maxClockOffset" value="#{msgs.maxClockOffset}" />
						<s:decorate>
							<h:inputText id="maxClockOffset" value="#{config.clockDriftMaxClockOffset}"
								required="true">
							</h:inputText>
							<h:message for="maxClockOffset" styleClass="error" />
						</s:decorate>

						<h:outputLabel for="cron" value="#{msgs.cron}" />
						<s:decorate>
							<h:inputText id="cron" value="#{config.clockDriftCron}"
								required="true" />
							<h:message for="cron" styleClass="error" />
						</s:decorate>

						<f:facet name="footer">
							<h:panelGroup style="display:block; text-align:center">
								<h:commandButton id="submit" value="#{msgs.save}"
									action="#{config.saveClockDriftConfig}" />
							</h:panelGroup>
						</f:facet>
					</h:panelGrid>
				</h:form>

				<h:messages globalOnly="true" styleClass="error" />

			</ui:define>
		</ui:composition>
	</body>
</html>